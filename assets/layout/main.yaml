type: container
id: root_container
width: 800
height: 480
direction: vertical
alignment: center
vertical_alignment: center
children:
  # 时间显示部分
  - node:
      type: container
      id: time_display_container
      width: 800
      height: 120
      direction: horizontal
      alignment: center
      children:
        - node:
            type: container
            id: time_digits_container
            width: 600
            height: 120
            direction: horizontal
            alignment: center
            children:
              - node:
                  type: icon
                  id: hour_tens
                  anchor: center
                  icon_id: "time_digit:digit_{datetime.hour_tens}"
              - node:
                  type: icon
                  id: hour_ones
                  anchor: center
                  icon_id: "time_digit:digit_{datetime.hour_ones}"
              - node:
                  type: icon
                  id: time_colon
                  anchor: center
                  icon_id: "time_digit:digit_colon"
                weight: 0.4
              - node:
                  type: icon
                  id: minute_tens
                  anchor: center
                  icon_id: "time_digit:digit_{datetime.minute_tens}"
              - node:
                  type: icon
                  id: minute_ones
                  anchor: center
                  icon_id: "time_digit:digit_{datetime.minute_ones}"

  # 日期显示部分
  - node:
      type: container
      id: date_display_container
      width: 800
      height: 50
      direction: vertical
      alignment: center
      children:
        - node:
            type: text
            id: date_text
            width: 800
            height: 40
            content: "{datetime.year}-{datetime.month}-{datetime.day} 星期{datetime.weekday}"
            font_size: medium
            alignment: center

  # 农历与天气容器
  - node:
      type: container
      id: lunar_weather_container
      width: 800
      height: 180
      direction: horizontal
      children:
        # 农历信息部分
        - node:
            type: container
            id: lunar_container
            width: 400
            height: 180
            direction: vertical
            children:
              - node:
                  type: text
                  id: lunar_year
                  width: 400
                  height: 30
                  content: "农历{datetime.lunar.ganzhi}{datetime.lunar.zodiac}年"
                  font_size: small
                  alignment: center
              - node:
                  type: container
                  id: lunar_priority_container
                  width: 400
                  height: 50
                  direction: vertical
                  alignment: center
                  children:
                    - node:
                        type: text
                        id: lunar_festival
                        width: 400
                        height: 50
                        content: "{datetime.lunar.festival}"
                        font_size: medium
                        alignment: center
                      condition: "{datetime.lunar.festival} != ''"
                    - node:
                        type: text
                        id: lunar_term
                        width: 400
                        height: 50
                        content: "{datetime.lunar.term}"
                        font_size: medium
                        alignment: center
                      condition: "{datetime.lunar.festival} == '' && {datetime.lunar.term} != ''"
                    - node:
                        type: text
                        id: lunar_date
                        width: 400
                        height: 50
                        content: "{datetime.lunar.month}月{datetime.lunar.day}"
                        font_size: medium
                        alignment: center
                      condition: "{datetime.lunar.festival} == '' && {datetime.lunar.term} == ''"
              - node:
                  type: container
                  id: lunar_taboo_container
                  width: 400
                  height: 80
                  direction: vertical
                  children:
                    - node:
                        type: text
                        id: lunar_recommends
                        width: 360
                        height: 35
                        content: "宜：{datetime.lunar.recommends}"
                        font_size: small
                        alignment: left
                        max_width: 360
                        max_height: 32
                    - node:
                        type: text
                        id: lunar_avoids
                        width: 360
                        height: 35
                        content: "忌：{datetime.lunar.avoids}"
                        font_size: small
                        alignment: left
                        max_width: 360
                        max_height: 32
        # 天气/传感器切换部分
        - node:
            type: container
            id: weather_sensor_container
            width: 400
            height: 180
            direction: vertical
            children:
              # 天气信息（优先级1）
              - node:
                  type: container
                  id: weather_container
                  width: 400
                  height: 180
                  direction: vertical
                  children:
                    - node:
                        type: container
                        id: current_weather_row
                        width: 400
                        height: 50
                        direction: horizontal
                        children:
                          - node:
                              type: text
                              id: weather_location
                              width: 200
                              height: 50
                              content: "{weather.location}"
                              font_size: small
                              alignment: left
                          - node:
                              type: container
                              id: temp_humidity_container
                              width: 160
                              height: 50
                              direction: vertical
                              alignment: right
                              children:
                                - node:
                                    type: text
                                    id: temperature
                                    width: 160
                                    height: 20
                                    content: "{sensor.temperature}℃"
                                    font_size: small
                                    alignment: right
                                - node:
                                    type: text
                                    id: humidity
                                    width: 160
                                    height: 20
                                    content: "{sensor.humidity}%"
                                    font_size: small
                                    alignment: right
                    - node:
                        type: container
                        id: weather_forecast_container
                        width: 400
                        height: 130
                        direction: vertical
                        children:
                          - node:
                              type: container
                              id: today_forecast
                              width: 400
                              height: 43
                              direction: horizontal
                              children:
                                - node:
                                    type: text
                                    id: today_label
                                    width: 40
                                    height: 43
                                    content: "今"
                                    font_size: small
                                    alignment: center
                                - node:
                                    type: icon
                                    id: today_icon
                                    anchor: center
                                    icon_id: "weather:{weather.daily_weather[0].weather}"
                                - node:
                                    type: text
                                    id: today_temp
                                    width: 260
                                    height: 43
                                    content: "{weather.daily_weather[0].temp_low}~{weather.daily_weather[0].temp_high}℃"
                                    font_size: small
                                    alignment: center
                          - node:
                              type: container
                              id: tomorrow_forecast
                              width: 400
                              height: 43
                              direction: horizontal
                              children:
                                - node:
                                    type: text
                                    id: tomorrow_label
                                    width: 40
                                    height: 43
                                    content: "明"
                                    font_size: small
                                    alignment: center
                                - node:
                                    type: icon
                                    id: tomorrow_icon
                                    anchor: center
                                    icon_id: "weather:{weather.daily_weather[1].weather}"
                                - node:
                                    type: text
                                    id: tomorrow_temp
                                    width: 260
                                    height: 43
                                    content: "{weather.daily_weather[1].temp_low}~{weather.daily_weather[1].temp_high}℃"
                                    font_size: small
                                    alignment: center
                          - node:
                              type: container
                              id: after_tomorrow_forecast
                              width: 400
                              height: 44
                              direction: horizontal
                              children:
                                - node:
                                    type: text
                                    id: after_tomorrow_label
                                    width: 40
                                    height: 44
                                    content: "后"
                                    font_size: small
                                    alignment: center
                                - node:
                                    type: icon
                                    id: after_tomorrow_icon
                                    anchor: center
                                    icon_id: "weather:{weather.daily_weather[2].weather}"
                                - node:
                                    type: text
                                    id: after_tomorrow_temp
                                    width: 260
                                    height: 44
                                    content: "{weather.daily_weather[2].temp_low}~{weather.daily_weather[2].temp_high}℃"
                                    font_size: small
                                    alignment: center
                  condition: "{weather.valid} == true"
              # 传感器备用面板（优先级2）
              - node:
                  type: container
                  id: sensor_backup_panel
                  width: 400
                  height: 180
                  direction: horizontal
                  alignment: center
                  children:
                    - node:
                        type: container
                        id: temperature_sensor
                        width: 200
                        height: 180
                        direction: vertical
                        alignment: center
                        children:
                          - node:
                              type: text
                              id: sensor_temperature
                              width: 200
                              height: 80
                              content: "{sensor.temperature}℃"
                              font_size: large
                              alignment: center
                    - node:
                        type: line
                        id: sensor_divider
                        start: [200, 30]
                        end: [200, 150]
                        thickness: 1
                    - node:
                        type: container
                        id: humidity_sensor
                        width: 200
                        height: 180
                        direction: vertical
                        alignment: center
                        children:
                          - node:
                              type: text
                              id: sensor_humidity
                              width: 200
                              height: 80
                              content: "{sensor.humidity}%"
                              font_size: large
                              alignment: center
                  condition: "{weather.valid} != true"

  # 格言显示部分
  - node:
      type: container
      id: quote_container
      width: 800
      height: 70
      direction: vertical
      alignment: center
      children:
        - node:
            type: text
            id: quote_content
            width: 800
            height: 40
            content: "{hitokoto.content}"
            font_size: medium
            alignment: center
            max_width: 780
            max_height: 48
        - node:
            type: text
            id: quote_author
            width: 800
            height: 30
            content: "——{hitokoto.from_who}《{hitokoto.from}》"
            font_size: small
            alignment: right

  # 绝对定位元素
  - node:
      type: text
      id: ampm_indicator
      layout: absolute
      position: [650, 60]
      width: 40
      height: 40
      content: "{time.ampm}"
      font_size: small
      alignment: center
      condition: "{system.config.is_12_hour}"
  - node:
      type: text
      id: holiday_display
      layout: absolute
      position: [20, 20]
      width: 200
      height: 30
      content: "{datetime.holiday}"
      font_size: small
      alignment: left
      condition: "{datetime.holiday} != ''"
  - node:
      type: icon
      id: network_status
      layout: absolute
      position: [760, 20]
      anchor: center
      icon_id: "network:network_{system.network_status}"
  - node:
      type: icon
      id: charging_status
      layout: absolute
      position: [730, 20]
      anchor: center
      icon_id: "battery:charging"
      condition: "{system.config.is_charging}"
  - node:
      type: text
      id: battery_level
      layout: absolute
      position: [690, 20]
      width: 30
      height: 20
      content: "{system.battery_level}%"
      font_size: small
      alignment: center
